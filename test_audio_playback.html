<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音频播放测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        audio {
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>音频播放测试</h1>
    
    <div class="test-section">
        <h2>测试1: 网易云音乐外部链接（带referrerpolicy）</h2>
        <p>歌曲名称: Star Crossing Night (feat. GALI)</p>
        <p>歌手: 徐明浩</p>
        <audio controls referrerpolicy="no-referrer">
            <source src="http://music.163.com/song/media/outer/url?id=2740858325" type="audio/mpeg">
            您的浏览器不支持音频播放。
        </audio>
    </div>
    
    <div class="test-section">
        <h2>测试2: 网易云音乐外部链接（不带referrerpolicy）</h2>
        <p>歌曲名称: Star Crossing Night (feat. GALI)</p>
        <p>歌手: 徐明浩</p>
        <audio controls>
            <source src="http://music.163.com/song/media/outer/url?id=2740858325" type="audio/mpeg">
            您的浏览器不支持音频播放。
        </audio>
    </div>
    
    <div class="test-section">
        <h2>测试3: 本地音频文件</h2>
        <p>如果有本地音频文件，可以放在这里测试</p>
    </div>
    
    <script>
        // 测试音频元素的错误事件
        const audioElements = document.querySelectorAll('audio');
        
        audioElements.forEach((audio, index) => {
            audio.addEventListener('error', (e) => {
                console.error(`音频测试${index + 1}错误:`, e.target.error);
                alert(`音频测试${index + 1}播放失败: ${e.target.error.message}`);
            });
            
            audio.addEventListener('loadedmetadata', () => {
                console.log(`音频测试${index + 1}加载成功，时长: ${audio.duration}秒`);
            });
        });
    </script>
</body>
</html>